"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[454],{454:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var a=r(791),t=r(420),l=r(689),n=r(247),d=r(815),i=r(184);const c=()=>{const e=(0,t.I0)(),s=(0,l.s0)(),{items:r,totalQty:c}=(0,t.v9)((e=>e.cart)),{loading:o}=(0,t.v9)((e=>e.order)),[x,m]=(JSON.parse(localStorage.getItem("user")),(0,a.useState)({address:"",city:"",postalCode:"",country:""})),[h,u]=(0,a.useState)("razorpay"),p=r.reduce(((e,s)=>e+s.product.price*s.qty),0),b=Number((.1*p).toFixed(2)),j=p>100?0:10,g=Number((p+b+j).toFixed(2)),y=e=>{const{name:s,value:r}=e.target;m((e=>({...e,[s]:r})))};return r&&0!==r.length?r&&0!==r.length?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-8 px-4 sm:px-6",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto ",children:[(0,i.jsx)("div",{className:"mb-10",children:(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-gray-900 to-blue-800 bg-clip-text text-transparent",children:"Complete Your Order"}),(0,i.jsx)("p",{className:"text-gray-600 mt-2",children:"Just a few steps to complete your purchase"})]}),(0,i.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Secure Checkout"})]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-xl",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100",children:(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-blue-600",children:"\ud83d\udccd"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Shipping Address"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Where should we deliver your order?"})]})]})})}),(0,i.jsxs)("div",{className:"p-6 space-y-5",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2 flex items-center",children:[(0,i.jsx)("span",{children:"Address"}),(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",name:"address",value:x.address,onChange:y,className:"w-full px-4 py-3 pl-11 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition duration-200",placeholder:"Enter your full address",required:!0}),(0,i.jsx)("div",{className:"absolute left-3 top-3 text-gray-400",children:(0,i.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"City"}),(0,i.jsx)("input",{type:"text",name:"city",value:x.city,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition duration-200",placeholder:"Enter city",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Postal Code"}),(0,i.jsx)("input",{type:"text",name:"postalCode",value:x.postalCode,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition duration-200",placeholder:"Postal code",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Country"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("select",{name:"country",value:x.country,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm appearance-none bg-white",required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Country"}),(0,i.jsx)("option",{value:"IN",children:"India"}),(0,i.jsx)("option",{value:"US",children:"United States"}),(0,i.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,i.jsx)("option",{value:"CA",children:"Canada"}),(0,i.jsx)("option",{value:"AU",children:"Australia"})]}),(0,i.jsx)("div",{className:"absolute right-3 top-3 text-gray-400 pointer-events-none",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-xl",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-gray-100",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-green-600",children:"\ud83d\udcb3"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Method"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"How would you like to pay?"})]})]})}),(0,i.jsxs)("div",{className:"p-6 space-y-4",children:[(0,i.jsxs)("label",{className:"flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all\n      "+("razorpay"===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center\n          "+("razorpay"===h?"border-blue-500 bg-blue-500":"border-gray-300"),children:"razorpay"===h&&(0,i.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-12 h-8 bg-blue-100 rounded flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-bold text-blue-700",children:"RZP"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold text-gray-900",children:"Online Payment"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"UPI / Card / NetBanking (Razorpay)"})]})]})]}),(0,i.jsx)("input",{type:"radio",name:"payment",value:"razorpay",checked:"razorpay"===h,onChange:e=>u(e.target.value),className:"sr-only"}),(0,i.jsx)("span",{className:"text-blue-600",children:"\u2192"})]}),(0,i.jsxs)("label",{className:"flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all\n      "+("cod"===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center\n          "+("cod"===h?"border-blue-500 bg-blue-500":"border-gray-300"),children:"cod"===h&&(0,i.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-12 h-8 bg-yellow-100 rounded flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-bold text-yellow-700",children:"\u20b9"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Pay when order is delivered"})]})]})]}),(0,i.jsx)("input",{type:"radio",name:"payment",value:"cod",checked:"cod"===h,onChange:e=>u(e.target.value),className:"sr-only"}),(0,i.jsx)("span",{className:"text-blue-600",children:"\u2192"})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden sticky top-6",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-gray-100",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-indigo-600",children:"\ud83d\udce6"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Order Summary"}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[r.length," items in your order"]})]})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("div",{className:"space-y-4 mb-6 max-h-80 overflow-y-auto pr-2",children:r.map((e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors duration-200",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:`https://angular-server-mxyp.onrender.com${e.product.images[0]}`,alt:e.product.name,className:"w-16 h-16 rounded-xl object-cover border border-gray-200"}),(0,i.jsx)("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:e.qty})]}),(0,i.jsxs)("div",{className:"max-w-[180px]",children:[(0,i.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.product.name}),(0,i.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["\u20b9",e.product.price.toLocaleString()," each"]})]})]}),(0,i.jsxs)("p",{className:"font-bold text-gray-900 text-lg",children:["\u20b9",(e.product.price*e.qty).toLocaleString()]})]},e.product._id)))}),(0,i.jsxs)("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",c," items)"]}),(0,i.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",p.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,i.jsx)("span",{className:"font-medium "+(0===j?"text-green-600":"text-gray-900"),children:0===j?"FREE \ud83c\udf89":`\u20b9${j}`})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Tax (10%)"}),(0,i.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",b.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between text-xl font-bold text-gray-900 border-t border-gray-200 pt-4",children:[(0,i.jsx)("span",{children:"Total Amount"}),(0,i.jsxs)("span",{className:"text-2xl text-blue-700",children:["\u20b9",g.toLocaleString()]})]})]}),(0,i.jsx)("button",{onClick:async()=>{if(x.address&&x.city&&x.postalCode&&x.country)try{const a={orderItems:r.map((e=>({product:e.product._id,name:e.product.name,qty:e.qty,price:e.product.price}))),shippingAddress:x,paymentMethod:h};console.log(a);const t=await e((0,n.LV)(a)).unwrap(),{order:l,razorpayOrder:i}=t;if(console.log(t),"cod"===h)return e((0,d.LL)()),void s(`/order-success/${l._id}`)}catch(a){console.error(a),alert("Order failed")}else alert("Please fill all shipping address fields")},disabled:o,className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white py-4 px-6 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 flex items-center justify-center",children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Processing Your Order..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"Place Order"}),(0,i.jsx)("span",{className:"ml-2",children:"\u2022"}),(0,i.jsxs)("span",{className:"ml-2",children:["\u20b9",g.toLocaleString()]}),(0,i.jsx)("span",{className:"ml-3",children:"\u2192"})]})}),(0,i.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-gray-600",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{children:"\ud83d\udd12"})}),(0,i.jsx)("span",{className:"text-sm",children:"256-bit SSL Secure"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{children:"\ud83d\udee1\ufe0f"})}),(0,i.jsx)("span",{className:"text-sm",children:"Money Back Guarantee"})]})]}),(0,i.jsx)("div",{className:"text-center pt-4 border-t border-gray-100",children:(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["By placing your order, you agree to our ",(0,i.jsx)("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and ",(0,i.jsx)("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]})]})]}),(0,i.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-2xl p-6",children:(0,i.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-2xl",children:"\u2753"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:"Need Help?"}),(0,i.jsx)("p",{className:"text-gray-600 mb-3",children:"Our customer support team is available 24/7"}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("button",{className:"text-blue-600 font-medium hover:text-blue-700 flex items-center",children:[(0,i.jsx)("span",{children:"\ud83d\udcde"}),(0,i.jsx)("span",{className:"ml-2",children:"Call Us"})]}),(0,i.jsxs)("button",{className:"text-blue-600 font-medium hover:text-blue-700 flex items-center",children:[(0,i.jsx)("span",{children:"\ud83d\udcac"}),(0,i.jsx)("span",{className:"ml-2",children:"Live Chat"})]})]})]})]})})]})]})]})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),(0,i.jsx)("button",{onClick:()=>s("/"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg",children:"Continue Shopping"})]})}):(0,i.jsx)("h2",{className:"text-center mt-10",children:"Your cart is empty"})}}}]);
//# sourceMappingURL=454.f66a02c2.chunk.js.map