"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[819],{819:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(791),r=a(611),i=a(420),n=(a(815),a(689)),o=a(184);const l=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)({page:1,pages:1,total:0,limit:3}),[d,c]=(0,s.useState)(!1),[g,p]=(0,s.useState)(""),x=((0,i.I0)(),(0,n.s0)());(0,s.useEffect)((()=>{(async()=>{try{c(!0);const e=`page=${a.page}&limit=${a.limit}${g?`&search=${g}`:""}`,s=await(0,r.Xp)(e);console.log(s),t(s.products),l((e=>({...e,pages:s.pages,total:s.total})))}catch(e){console.error("Error fetching products:",e)}finally{c(!1)}})()}),[a.page,g]);const m=e=>{e>=1&&e<=a.pages&&l((t=>({...t,page:e})))};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 py-10 px-4",children:(0,o.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Products"}),(0,o.jsx)("input",{type:"text",placeholder:"Search products...",className:"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:g,onChange:e=>{p(e.target.value),l((e=>({...e,page:1})))}})]}),d?(0,o.jsx)("div",{className:"text-center py-20 text-lg text-gray-600",children:"Loading products..."}):0===e.length?(0,o.jsx)("div",{className:"text-center py-20 text-lg text-gray-600",children:"No products found."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map((e=>{var t,a;return(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition",onClick:()=>x(`/productDetails/${e._id}`),children:[(0,o.jsx)("img",{src:(null===(t=e.images)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.url)||"/placeholder.png",alt:e.name,className:"h-48 w-full object-cover"}),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:e.category}),(0,o.jsxs)("p",{className:"font-bold text-indigo-600",children:["$",e.price]})]})]},e._id)}))}),(0,o.jsxs)("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[(0,o.jsx)("button",{onClick:()=>m(a.page-1),disabled:1===a.page,className:"px-3 py-1 rounded-md text-sm font-medium "+(1===a.page?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:"Prev"}),Array.from({length:a.pages},((e,t)=>t+1)).map((e=>(0,o.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1 rounded-md text-sm font-medium "+(e===a.page?"bg-indigo-700 text-white":"bg-gray-200 hover:bg-indigo-500 hover:text-white"),children:e},e))),(0,o.jsx)("button",{onClick:()=>m(a.page+1),disabled:a.page===a.pages,className:"px-3 py-1 rounded-md text-sm font-medium "+(a.page===a.pages?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:"Next"})]})]})]})})},d=()=>(0,o.jsx)("div",{children:(0,o.jsx)(l,{})})},611:(e,t,a)=>{a.d(t,{Xp:()=>n,gk:()=>o});var s=a(903);const r="https://angular-server-mxyp.onrender.com/api/products",i=()=>localStorage.getItem("token"),n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=i(),a=t?{headers:{Authorization:`Bearer ${t}`}}:{},n=await s.Z.get(`${r}?${e}`,a);return n.data},o=async e=>{const t=i(),a=t?{headers:{Authorization:`Bearer ${t}`}}:{};return(await s.Z.get(`${r}/${e}`,a)).data}}}]);
//# sourceMappingURL=819.e2668595.chunk.js.map